- Sid: S3JobFlowPermissions
            Effect: Allow
            Action:
              - s3:ListBucket*
              - s3:GetObject*
              - s3:GetBucket*
              - s3:GetAccelerateConfiguration
              - s3:GetLifecycleConfiguration
              - s3:ListMultipartUploadParts
              - s3:PutObject
              - s3:PutObjectTagging
              - s3:PutObjectVersionTagging
              - s3:PutAccelerateConfiguration
              - s3:PutLifecycleConfiguration
              - s3:Replicate*
              - s3:RestoreObject
              - s3:DeleteObject*
            Resource: '*'
          - Sid: S3CustomBucketPermissions
            Effect: Allow
            Action:
              - 's3:ListBucket'
              - 's3:GetObject'
              - 's3:PutObject'
            Resource:
              - !Sub 'arn:aws:s3:::${S3BucketName}'
              - !Sub 'arn:aws:s3:::${S3BucketName}/*'
          - Sid: KMSPermissions
            Effect: Allow
            Action:
              - 'kms:Decrypt'
              - 'kms:Encrypt'
              - 'kms:GenerateDataKey'
            Resource: !Sub 'arn:aws:kms:${AWS::Region}:${AWS::AccountId}:key/${KMSKeyId}'
